<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Starbucks Admin Dashboard</title>
		<link
			rel="stylesheet"
			href="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/css/bootstrap.min.css"
			integrity="sha384-r4NyP46KrjDleawBgD5tp8Y7UzmLA05oM1iAEQ17CSuDqnUK2+k9luXQOfXJCJ4I"
			crossorigin="anonymous"
		/>
		<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/chartist.js/latest/chartist.min.css"
		/>

		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
		/>
		<style>
			a {
				text-decoration: none !important;
				color: inherit;
			}

			a:hover {
				color: #455a64;
			}

			.card {
				border-radius: 5px;
				background-color: #fff;
				padding-left: 60px;
				padding-right: 60px;
				margin-top: 30px;
				padding-top: 30px;
				padding-bottom: 30px;
			}
			.make_inline {
				display: block;
				/* border: 2px solid red; */
				display: flex;
				justify-content: center;
				/* align-items: center; */
				/* border: 2px solid red; */
			}

			.rating-box {
				width: 135px;
				height: 130px;
				margin-right: auto;
				margin-left: auto;
				background-color: #fbc02d;
				color: #fff;
			}

			.rating-label {
				font-weight: bold;
			}

			.rating-bar {
				width: 300px;
				padding: 8px;
				border-radius: 5px;
			}

			.bar-container {
				width: 100%;
				background-color: #f1f1f1;
				text-align: center;
				color: white;
				border-radius: 20px;
				cursor: pointer;
				margin-bottom: 5px;
			}

			.bar-5 {
				width: 70%;
				height: 13px;
				background-color: #fbc02d;
				border-radius: 20px;
			}

			.bar-4 {
				width: 30%;
				height: 13px;
				background-color: #fbc02d;
				border-radius: 20px;
			}

			.bar-3 {
				width: 20%;
				height: 13px;
				background-color: #fbc02d;
				border-radius: 20px;
			}

			.bar-2 {
				width: 10%;
				height: 13px;
				background-color: #fbc02d;
				border-radius: 20px;
			}

			.bar-1 {
				width: 0%;
				height: 13px;
				background-color: #fbc02d;
				border-radius: 20px;
			}

			td {
				padding-bottom: 10px;
			}

			.star-active {
				color: #fbc02d;
				margin-top: 10px;
				margin-bottom: 10px;
			}

			.star-active:hover {
				color: #f9a825;
				cursor: pointer;
			}

			.star-inactive {
				color: #cfd8dc;
				margin-top: 10px;
				margin-bottom: 10px;
			}

			.blue-text {
				color: #0091ea;
			}

			.content {
				font-size: 18px;
			}

			.profile-pic {
				width: 90px;
				height: 90px;
				border-radius: 100%;
				margin-right: 30px;
			}

			.pic {
				width: 80px;
				height: 80px;
				margin-right: 10px;
			}

			.vote {
				cursor: pointer;
			}
		</style>
		<script
			type="text/javascript"
			src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"
		></script>
		<script
			type="text/javascript"
			src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
		></script>
		<script
			type="text/javascript"
			src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"
		></script>
		<style>
			.checked {
				color: orange;
			}
			.logo {
				height: 55px;
				margin-left: 20px;
			}
			.smth-wemde {
				display: flex;
				flex-direction: row;
				justify-content: space-between;
			}

			.card {
				margin-bottom: 30px;
			}
			.card_inside {
				display: flex;
				justify-content: space-evenly;
			}
			.card_item_ {
				display: block !important;
				/* border: 2px solid red; */
			}
			.container {
				display: flex;
				flex-wrap: wrap;
				height: 400px;
				align-content: space-between;
			}
			.items_container {
				width: 60%;
			}
		</style>
		<style>
			.sidebar {
				position: fixed;
				top: 0;
				bottom: 0;
				left: 0;
				z-index: 100;
				padding: 90px 0 0;
				box-shadow: inset -1px 0 0 rgba(0, 0, 0, 0.1);
				z-index: 99;
			}

			@media (max-width: 767.98px) {
				.sidebar {
					top: 11.5rem;
					padding: 0;
				}
			}

			.navbar {
				box-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.1);
			}

			@media (min-width: 767.98px) {
				.navbar {
					top: 0;
					position: sticky;
					z-index: 999;
				}
			}

			.sidebar .nav-link {
				color: #333;
			}

			.sidebar .nav-link.active {
				color: #0d6efd;
			}
			/* #thisone {
				display: flex;
				flex-direction: column;
				justify-content: center;
				align-items: center;
			} */
		</style>
	</head>

	<body>
		<nav class="navbar navbar-light bg-light p-3">
			<div
				class="
					d-flex
					col-12 col-md-3 col-lg-2
					mb-2 mb-lg-0
					flex-wrap flex-md-nowrap
					justify-content-between
				"
			>
				<!-- <a class="navbar-brand" href="#">Nabvar brand </a> -->
				<a href="/" class="navbar-brand">
					<img src="./images/logo.png" alt="Starbucks" class="logo" />
				</a>
				<button
					class="navbar-toggler d-md-none collapsed mb-3"
					type="button"
					data-toggle="collapse"
					data-target="#sidebar"
					aria-controls="sidebar"
					aria-expanded="false"
					aria-label="Toggle navigation"
				>
					<span class="navbar-toggler-icon"></span>
				</button>
			</div>
			<div class="col-12 col-md-4 col-lg-2">
				<input
					class="form-control form-control-dark"
					type="text"
					placeholder="Search"
					aria-label="Search"
				/>
			</div>
			<div
				class="
					col-12 col-md-5 col-lg-8
					d-flex
					align-items-center
					justify-content-md-end
					mt-3 mt-md-0
				"
			>
				<div class="dropdown">
					<button
						class="btn btn-secondary dropdown-toggle"
						type="button"
						id="dropdownMenuButton"
						data-toggle="dropdown"
						aria-expanded="false"
					>
						Branch: <%= user.chain_name %>
					</button>
					<ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
						<li><a class="dropdown-item" href="#">Settings</a></li>
						<li><a class="dropdown-item" href="#">Messages</a></li>
						<li><a class="dropdown-item" href="/logout">Sign out</a></li>
					</ul>
				</div>
			</div>
		</nav>
		<div class="container-fluid">
			<div class="row">
				<nav
					id="sidebar"
					class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse"
				>
					<div class="position-sticky">
						<ul class="nav flex-column">
							<li class="nav-item">
								<a class="nav-link" aria-current="page" href="/dashboard">
									<svg
										xmlns="http://www.w3.org/2000/svg"
										width="24"
										height="24"
										viewBox="0 0 24 24"
										fill="none"
										stroke="currentColor"
										stroke-width="2"
										stroke-linecap="round"
										stroke-linejoin="round"
										class="feather feather-home"
									>
										<path
											d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"
										></path>
										<polyline points="9 22 9 12 15 12 15 22"></polyline>
									</svg>
									<span class="ml-2">Dashboard</span>
								</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="/branch-menu">
									<svg
										xmlns="http://www.w3.org/2000/svg"
										width="24"
										height="24"
										viewBox="0 0 24 24"
										fill="none"
										stroke="currentColor"
										stroke-width="2"
										stroke-linecap="round"
										stroke-linejoin="round"
										class="feather feather-file"
									>
										<path
											d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"
										></path>
										<polyline points="13 2 13 9 20 9"></polyline>
									</svg>
									<span class="ml-2">Branch Menu</span>
								</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="/sales">
									<svg
										xmlns="http://www.w3.org/2000/svg"
										width="24"
										height="24"
										viewBox="0 0 24 24"
										fill="none"
										stroke="currentColor"
										stroke-width="2"
										stroke-linecap="round"
										stroke-linejoin="round"
										class="feather feather-shopping-cart"
									>
										<circle cx="9" cy="21" r="1"></circle>
										<circle cx="20" cy="21" r="1"></circle>
										<path
											d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"
										></path>
									</svg>
									<span class="ml-2">Sales</span>
								</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="/employee">
									<svg
										xmlns="http://www.w3.org/2000/svg"
										width="24"
										height="24"
										viewBox="0 0 24 24"
										fill="none"
										stroke="currentColor"
										stroke-width="2"
										stroke-linecap="round"
										stroke-linejoin="round"
										class="feather feather-users"
									>
										<path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
										<circle cx="9" cy="7" r="4"></circle>
										<path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
										<path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
									</svg>
									<span class="ml-2">Employees</span>
								</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="/inventory">
									<svg
										xmlns="http://www.w3.org/2000/svg"
										width="24"
										height="24"
										viewBox="0 0 24 24"
										fill="none"
										stroke="currentColor"
										stroke-width="2"
										stroke-linecap="round"
										stroke-linejoin="round"
										class="feather feather-bar-chart-2"
									>
										<line x1="18" y1="20" x2="18" y2="10"></line>
										<line x1="12" y1="20" x2="12" y2="4"></line>
										<line x1="6" y1="20" x2="6" y2="14"></line>
									</svg>

									<span class="ml-2"> Inventory</span>
								</a>
							</li>
							<li class="nav-item">
								<a class="nav-link active" href="/review">
									<svg
										xmlns="http://www.w3.org/2000/svg"
										width="24"
										height="24"
										viewBox="0 0 24 24"
										fill="none"
										stroke="currentColor"
										stroke-width="2"
										stroke-linecap="round"
										stroke-linejoin="round"
										class="feather feather-layers"
									>
										<polygon points="12 2 2 7 12 12 22 7 12 2"></polygon>
										<polyline points="2 17 12 22 22 17"></polyline>
										<polyline points="2 12 12 17 22 12"></polyline>
									</svg>
									<span class="ml-2">Customer Reviews</span>
								</a>
							</li>
						</ul>
					</div>
				</nav>
				<!-- Insert here the contents -->

				<main class="col-md-9 ml-sm-auto col-lg-10 px-md-4 py-4">
					<div>
						<!-- <div class="card card_main">
							<h5 class="card-header card_inside">Overall Rating</h5>
							

						</div> -->
					</div>

					<div class="card">
						<div class="row justify-content-left d-flex" id="thisone">
							<div class="col-md-4 d-flex flex-column">
								<div class="rating-box">
									<h1 class="pt-4 make_inline"><%= rating %></h1>
									<p class="make_inline">out of 5</p>

									<div class="make_inline">
										<% for (let i = 0; i < rating; i++) { %>

										<span class="fa fa-star star-active mx-1"></span>

										<% } %> <% for (let i = 0; i < 5-rating; i++) { %>

										<span class="fa fa-star star-inactive mx-1"></span>
										<% } %>
									</div>
								</div>
							</div>
							<div class="col-md-8">
								<div class="rating-bar0 justify-content-center">
									<table class="text-left mx-auto">
										<tr>
											<td class="rating-label">Excellent</td>
											<td class="rating-bar">
												<div class="bar-container">
													<div
														class="
															bar-<%=
															Math.ceil(star_count[5]/reviews.length*5)
															==
															0
															?
															1
															:Math.ceil(star_count[5]/reviews.length*5)
															%>
														"
													></div>
												</div>
											</td>
											<td class="text-right"><%= star_count[5]%></td>
										</tr>
										<tr>
											<td class="rating-label">Good</td>
											<td class="rating-bar">
												<div class="bar-container">
													<div
														class="
															bar-<%=
															Math.ceil(star_count[4]/reviews.length*5)
															==
															0
															?
															1
															:Math.ceil(star_count[4]/reviews.length*5)
															%>
														"
													></div>
												</div>
											</td>
											<td class="text-right"><%= star_count[4]%></td>
										</tr>
										<tr>
											<td class="rating-label">Average</td>
											<td class="rating-bar">
												<div class="bar-container">
													<div
														class="
															bar-<%=
															Math.ceil(star_count[3]/reviews.length*5)
															==
															0
															?
															1
															:Math.ceil(star_count[3]/reviews.length*5)
															%>
														"
													></div>
												</div>
											</td>
											<td class="text-right"><%= star_count[3]%></td>
										</tr>
										<tr>
											<td class="rating-label">Poor</td>
											<td class="rating-bar">
												<div class="bar-container">
													<div
														class="
															bar-<%=
															Math.ceil(star_count[2]/reviews.length*5)
															==
															0
															?
															1
															:Math.ceil(star_count[2]/reviews.length*5)
															%>
														"
													></div>
												</div>
											</td>
											<td class="text-right"><%= star_count[2]%></td>
										</tr>
										<tr>
											<td class="rating-label">Terrible</td>
											<td class="rating-bar">
												<div class="bar-container">
													<div
														class="
															bar-<%=
															Math.ceil(star_count[1]/reviews.length*5)
															==
															0
															?
															1
															:Math.ceil(star_count[1]/reviews.length*5)
															%>
														"
													></div>
												</div>
											</td>
											<td class="text-right"><%= star_count[1]%></td>
										</tr>
									</table>
								</div>
							</div>
						</div>
					</div>
				</main>

				<div class="container">
					<main class="col-md-9 ml-sm-auto col-lg-10 px-md-4 py-4">
						<% for (let i = 0; i < reviews.length; i++) { %>
						<div class="card items_container">
							<h5 class="card-header"><%= reviews[i].cust_name %></h5>
							<div class="card-body">
								<div class="smth-wemde">
									<h5 class="card-title">
										<% for (let j = 0; j < reviews[i].rating; j++) { %>

										<span class="fa fa-star star-active mx-1"></span>

										<% } %> <% for (let j = 0; j < 5 - reviews[i].rating; j++) {
										%>

										<span class="fa fa-star star-inactive mx-1"></span>
										<% } %>
									</h5>
									<p class="card-text text-success">
										<%= reviews[i].review_date %>
									</p>
								</div>
								<p class="card-text"><%= reviews[i].review %></p>
							</div>
						</div>
						<% } %>
					</main>
				</div>
			</div>
		</div>

		<script
			src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
			integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
			crossorigin="anonymous"
		></script>
		<script
			src="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/js/bootstrap.min.js"
			integrity="sha384-oesi62hOLfzrys4LxRF63OJCXdXDipiYWBnvTl9Y9/TRlw5xlKIEHpNyvvDShgf/"
			crossorigin="anonymous"
		></script>
		<script src="https://cdn.jsdelivr.net/chartist.js/latest/chartist.min.js"></script>
		<script async defer src="https://buttons.github.io/buttons.js"></script>
		<script>
			new Chartist.Line(
				"#traffic-chart",
				{
					labels: ["January", "Februrary", "March", "April", "May", "June"],
					series: [[23000, 25000, 19000, 34000, 56000, 64000]],
				},
				{
					low: 0,
					showArea: true,
				}
			);
		</script>
	</body>
</html>
